SUDOKU_VIEW=function(){var a=function(a,b){var c=0;$(a).each(function(){0!==b[c]?($(this).val(b[c]),$(this).attr("readonly","readonly"),$(this).addClass("disabledState")):$(this).val(""),c++})},b=function(a){a.addClass("errorState")},c=function(a){a.removeClass("errorState")},d=function(a,b){var c=0;col=0,$(a).each(function(){return 0!==b[c][col]&&$(this).val(b[c][col]),col++,9===col&&(col=0,c++,9===c)?!0:void 0})},e=function(b){var c='<table id="sudokuTable"><tbody>',d=0,e=0,f="";for(e=0;9>e;e++)f+='<td><input maxlength="1"></input></td>';for(d=0;9>d;d++)c=c+"<tr>"+f+"</tr>";return c+="</tbody></table>",$("#sudokuContainer").append(c),a("#sudokuTable input",b),c};return{createBoard:e,solvedBoard:d,showError:b,removeErrorState:c}}(),$(document).ready(function(){var a=SUDOKU_MODEL.generateBoardValues();SUDOKU_VIEW.createBoard(a),$("#sudokuTable").delegate("input","keyup",function(){var a,b=$(this).closest("tr").index(),c=$(this).closest("td").index(),d=SUDOKU_MODEL.isValidNumber($(this).val(),b,c);d?(a=SUDOKU_MODEL.isValueAdded($(this).val(),b,c),a?SUDOKU_VIEW.removeErrorState($(this)):SUDOKU_VIEW.showError($(this))):$(this).val("")}),$("#buttonGrp").delegate("button","click",function(){if("SOLVE THE BOARD"===$(this).text()){$("#sudokuTable input").removeClass("errorState");var a=SUDOKU_MODEL.solve();0!=a&&SUDOKU_VIEW.solvedBoard("#sudokuTable input",a)}else if("RESET THE BOARD"===$(this).text()){$("#sudokuTable input").val(""),$("#sudokuTable input").removeClass("errorState");var b=SUDOKU_MODEL.resetBoardValues();SUDOKU_VIEW.solvedBoard("#sudokuTable input",b)}})}),SUDOKU_MODEL=function(){var a=[],b=[],c=[],d=[],e=[],f=function(){var c=[0,9,8,0,0,2,3,0,0,0,4,7,0,3,5,0,8,0,0,0,0,0,0,7,5,0,2,0,6,5,0,8,0,0,7,3,0,0,0,5,7,1,0,9,0,4,0,9,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,8,1,0,0,2,9,4,0,5,9,5,0,3,1,0,7,2,0];return i(c),b=$.extend(!0,{},a),c},g=function(a,b){var c=Math.floor(a/3),d=Math.floor(b/3);return 0==c&&0==d?0:0==c&&1==d?1:0==c&&2==d?2:1==c&&0==d?3:1==c&&1==d?4:1==c&&2==d?5:2==c&&0==d?6:2==c&&1==d?7:2==c&&2==d?8:void 0},h=function(a){var b=$.isNumeric(a);return a>0&&9>=a&&b?isValidType=!0:void 0},i=function(b){for(var c=0,d=0,e=0;81>c;c++)0===e&&(a[d]=[]),a[d][e]=b[c],e++,9===e&&(d+=1,e=0);return j(a),a},j=function(a){for(var b=0;9>b;b++)for(var f=0;9>f;f++)0!==a[b][f]&&(void 0===e[b]&&(e[b]=[]),e[b][e[b].length]=a[b][f],void 0===d[f]&&(d[f]=[]),d[f][d[f].length]=a[b][f],index=g(b,f),void 0==c[index]&&(c[index]=[]),c[index][c[index].length]=a[b][f]);return a},k=function(b,f,h){var i=g(f,h);return-1===e[f].indexOf(b)&&-1===d[h].indexOf(b)&&-1===c[i].indexOf(b)?(isValid=!0,a[f][h]=b,e[f][e[f].length]=b,d[h][d[h].length]=b,c[i][c[i].length]=b):isValid=!1,isValid},l=function(a){return h(a)},m=function(a,b,c){return k(parseInt(a),b,c)},n=function(){return o()?a:!1},o=function(){if(q())return!0;for(var b=-1,f=-1,h=0;9>h;h++){for(var i=0;9>i;i++)if(0==a[h][i]){b=h,f=i;break}if(-1!=b)break}-1==b&&console.log("Something wrong");var j=p(b,f);if(0===j.length)return!1;for(var l=[],m=j.length,h=0;m>h;h++){var n=j[Math.floor(Math.random()*j.length)];l[h]=n,j.splice(j.indexOf(n),1)}j=l;for(var h=0;h<j.length;h++){var r=j[h],s=k(r,b,f);if(s||console.log("TRY AGAIN"),console.log("_currentBoardValues-->",a),o())return!0;a[b][f]=0,e[b].splice(e[b].indexOf(r),1),d[f].splice(d[f].indexOf(r),1);var t=g(b,f);c[t].splice(c[t].indexOf(r),1)}return!1},p=function(a,b){var c=[1,2,3,4,5,6,7,8,9],d=g(a,b);return c=r(c,a,b,d)},q=function(){for(var b=0;9>b;b++)for(var c=0;9>c;c++)if(0==a[b][c])return!1;return!0},r=function(a,b,f,g){void 0===e[b]&&(e[b]=[]);for(var h=0;h<e[b].length;h++)val=Number(e[b][h]),val>0&&a.indexOf(val)>-1&&a.splice(a.indexOf(val),1);void 0===d[f]&&(d[f]=[]);for(var h=0;h<d[f].length;h++)val=Number(d[f][h]),val>0&&a.indexOf(val)>-1&&a.splice(a.indexOf(val),1);void 0===c[g]&&(c[g]=[]);for(var h=0;h<c[g].length;h++)val=Number(c[g][h]),val>0&&a.indexOf(val)>-1&&a.splice(a.indexOf(val),1);return a},s=function(){return a=b,j(b),b};return{generateBoardValues:f,isValidNumber:l,solve:n,isValueAdded:m,resetBoardValues:s}}();